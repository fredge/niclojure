<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="user.css"/>
  </head>

  <body>
    <div class="chapter">
      <h2 id="appendix">Appendix</h2>

<h4 id="basic-tricks">Basic tricks</h4>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">use</span> <span class="n">the</span> <span class="n">existing</span> <span class="nb">method</span> <span class="n">map</span>
<span class="p">(</span><span class="n">doc</span> <span class="n">map</span><span class="p">)</span>
<span class="p">(</span><span class="n">map</span> <span class="c1">#(inc %) [1 2 3])</span>

<span class="p">;</span> <span class="n">define</span> <span class="n">a</span> <span class="nb">method</span> <span class="n">with</span> <span class="n">doc</span>
<span class="p">(</span><span class="n">defn</span> <span class="n">function</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">doc</span>
    <span class="s2">"Make sure you have this string to explain what the method is doing.</span><span class="se">\n</span><span class="s2"> Print the parameters"</span>
    <span class="o">[&amp;</span> <span class="n">i</span><span class="o">]</span>
    <span class="p">(</span><span class="n">println</span> <span class="n">i</span><span class="p">))</span>
<span class="p">(</span><span class="n">doc</span> <span class="n">function</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">doc</span><span class="p">)</span>
<span class="p">(</span><span class="n">function</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">doc</span> <span class="mi">2</span><span class="p">)</span>

<span class="p">;</span> <span class="n">macro</span> <span class="n">to</span> <span class="n">avoid</span> <span class="n">java</span> <span class="n">painfulness</span>
<span class="p">;</span> <span class="n">warning</span><span class="p">,</span> <span class="n">already</span> <span class="n">exist</span> <span class="k">in</span> <span class="n">clojure</span><span class="o">.</span><span class="n">core</span>
<span class="p">(</span><span class="n">defmacro</span> <span class="n">with</span><span class="o">-</span><span class="nb">open</span> <span class="o">[</span><span class="n">args</span> <span class="o">&amp;</span> <span class="n">body</span><span class="o">]</span>
  <span class="sb">`(let ~args</span>
<span class="sb">    (try ~@body</span>
<span class="sb">     (finally (.close ~(first args))))))</span>

<span class="sb">; use the method</span>
<span class="sb">(with-open [stream (.openStream (java.net.URL. "http://www.google.com"))]</span>
<span class="sb">   (.available stream))</span>

<span class="sb">; do some regexp</span>
<span class="sb">(re-find #"abc" "This is a string that contains abc")</span>

<span class="sb">; doseq</span>
<span class="sb">(doseq [x [1 2 3] y [1 2 3]] </span>
<span class="sb">   (println (* x y)))</span>
<span class="sb">; returns </span>
<span class="sb">; 1 2 3</span>
<span class="sb">; 2 4 6</span>
<span class="sb">; 3 6 9</span>

<span class="sb">; some old xml code. round trip xml parsing</span>
<span class="sb">(use 'clojure.xml)</span>
<span class="sb">(emit (parse "http://feeds.feedburner.com/burningonesblog"))</span>

<span class="sb">; every line of a file in sequences</span>
<span class="sb">(line-seq (clojure.java.io/reader (clojure.java.io/file “project.clj”)))</span>
</pre>
</div>
    </div>
  </body>
</html>
