<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="user.css"/>
  </head>

  <body>
    <div class="chapter">
      <h2 id="libraries">Libraries</h2>

<p>Now that we are ready for some hacking, here are sites, that refer interesting Clojure libraries:</p>

<ul><li><a href="http://clojure-libraries.appspot.com/">clojure-libraries on appspot.com/</a></li>
<li><a href="http://clojurewerkz.org/">clojurewerkz</a></li>
<li><a href="http://clojure.github.com/">Clojure on github</a></li>
<li><a href="http://programmers.stackexchange.com/questions/125107/what-are-the-essential-clojure-libraries-to-learn-beyond-the-basics-of-core">http://programmers.stackexchange.com/questions/125107/what-are-the-essential-clojure-libraries-to-learn-beyond-the-basics-of-core</a></li>
<li><a href="http://www.clojure-toolbox.com/">http://www.clojure-toolbox.com/</a></li>
</ul><h3 id="noir">Noir</h3>

<p><a href="https://github.com/ibdknox/noir">https://github.com/ibdknox/noir</a>
<a href="http://www.webnoir.org/">http://www.webnoir.org/</a></p>

<p>It's dark in here ! Noir is probably <em>the</em> simplest way to write a functional web application in clojure.</p>

<p>This is how it looks like in Clojure code</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">ns</span> <span class="n">my</span><span class="o">-</span><span class="n">app</span>
  <span class="p">(</span><span class="ss">:use</span> <span class="n">noir</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>
  <span class="p">(</span><span class="ss">:require</span> <span class="o">[</span><span class="n">noir</span><span class="o">.</span><span class="n">server</span> <span class="ss">:as</span> <span class="n">server</span><span class="o">]</span><span class="p">))</span>

<span class="p">(</span><span class="n">defpage</span> <span class="s2">"/welcome"</span> <span class="o">[]</span>
    <span class="s2">"Welcome to Noir!"</span><span class="p">)</span>

<span class="p">(</span><span class="n">server</span><span class="o">/</span><span class="n">start</span> <span class="mi">8080</span><span class="p">)</span>
</pre>
</div>


<p>and/or this is how you would have it started in a few seconds with the leiningen command we installed earlier on</p>

<div class="highlight">
<pre><span class="n">lein</span> <span class="n">plugin</span> <span class="n">install</span> <span class="n">lein</span><span class="o">-</span><span class="n">noir</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lein</span> <span class="n">noir</span> <span class="kp">new</span> <span class="n">my</span><span class="o">-</span><span class="n">website</span>
<span class="n">cd</span> <span class="n">my</span><span class="o">-</span><span class="n">website</span>
<span class="n">lein</span> <span class="n">run</span>
</pre>
</div>


<p>Now the guy from Noir has also started a very cute project named <a href="http://app.kodowa.com/playground">Playground</a> where you can do live execution of your code with a nice UI.</p>

<p><img src="LightTable.png" alt="" /></p>

<h3 id="incanter">Incanter</h3>

<p><a href="http://incanter.org/downloads/">Download</a> and <a href="https://github.com/liebke/incanter/wiki#getstarted">Get started</a></p>

<p>From the Clojure REPL, load the Incanter libraries:</p>

<pre><code>user=&gt; (use '(incanter core stats charts))</code></pre>


<p>Try an example: sample 1,000 values from a standard-normal distribution and view a histogram:</p>

<pre><code>user=&gt; (view (histogram (sample-normal 1000)))</code></pre>


<p><img src="histogram.png" alt="" /></p>

<h3 id="marginalia">Marginalia</h3>

<p><a href="https://github.com/fogus/marginalia">https://github.com/fogus/marginalia</a></p>

<p>Marginalia is your best literate programming tool for clojure.</p>

<p>Install it as a dependency in your project.clj file:</p>

<p><code></code></p>

<pre><code>:dev-dependencies [lein-marginalia "0.7.1"]
</code></pre>

<p></p>

<p>Then, just use it:
<code></code></p>

<pre><code>lein marg
</code></pre>

<p></p>

<p>And dependending on the amount of comments you wrote in the code, you will get something similar to this:</p>

<p><img src="marginalia.png" alt="" /></p>

<h3 id="lacij">Lacij</h3>

<p><a href="https://github.com/pallix/lacij">https://github.com/pallix/lacij</a></p>

<p>A library that can quickly create SVG diagram with automatic layout, like this one:</p>

<p><img src="radial.png" alt="" /></p>

<p><code>
(use 'lacij.graph.svg.graph)
</code></p>

<p>Then, a graph can be drawn like this:</p>

<div class="highlight">
<pre><span class="p">(</span><span class="o">-&gt;</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">graph</span> <span class="ss">:width</span> <span class="mi">800</span> <span class="ss">:height</span> <span class="mi">400</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">style</span> <span class="ss">:fill</span> <span class="s2">"lightgreen"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">edge</span><span class="o">-</span><span class="n">style</span> <span class="ss">:stroke</span> <span class="s2">"royalblue"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:hermes</span> <span class="s2">"Hermes"</span> <span class="ss">:x</span> <span class="mi">10</span> <span class="ss">:y</span> <span class="mi">30</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:fill</span> <span class="s2">"lightblue"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:zeus</span> <span class="s2">"Zeus"</span> <span class="ss">:x</span> <span class="mi">300</span> <span class="ss">:y</span> <span class="mi">150</span> <span class="ss">:rx</span> <span class="mi">15</span> <span class="ss">:ry</span> <span class="mi">15</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:ares</span> <span class="s2">"Ares"</span> <span class="ss">:x</span> <span class="mi">300</span> <span class="ss">:y</span> <span class="mi">250</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:fill</span> <span class="s2">"lavender"</span> <span class="ss">:stroke</span> <span class="s2">"red"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:father1</span> <span class="ss">:hermes</span> <span class="ss">:zeus</span> <span class="s2">"son of"</span>
                <span class="ss">:style</span> <span class="p">{</span><span class="ss">:stroke</span> <span class="s2">"darkcyan"</span> <span class="ss">:stroke</span><span class="o">-</span><span class="n">dasharray</span> <span class="s2">"9, 5"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:father2</span> <span class="ss">:ares</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">attrs</span> <span class="ss">:rx</span> <span class="mi">5</span> <span class="ss">:ry</span> <span class="mi">5</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:epaphus</span> <span class="s2">"Epaphus"</span> <span class="ss">:x</span> <span class="mi">450</span> <span class="ss">:y</span> <span class="mi">250</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:epaphus</span><span class="o">-</span><span class="n">zeus</span> <span class="ss">:epaphus</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:perseus</span> <span class="s2">"Perseus"</span> <span class="ss">:x</span> <span class="mi">600</span> <span class="ss">:y</span> <span class="mi">150</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:perseus</span><span class="o">-</span><span class="n">zeus</span> <span class="ss">:perseus</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">label</span> <span class="ss">:father2</span> <span class="s2">"son of"</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:stroke</span> <span class="s2">"crimson"</span>
                                         <span class="ss">:font</span><span class="o">-</span><span class="n">size</span> <span class="s2">"20px"</span>
                                         <span class="ss">:font</span><span class="o">-</span><span class="n">style</span> <span class="s2">"italic"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">build</span><span class="p">)</span>
    <span class="p">(</span><span class="n">export</span> <span class="s2">"/tmp/styles.svg"</span><span class="p">))</span>
</pre>
</div>


<p>The advantage is that you can add and remove nodes dynamically, thus giving a dynamic view about live typologies.</p>

<h3 id="seesaw">Seesaw</h3>

<p><a href="https://github.com/daveray/seesaw">https://github.com/daveray/seesaw</a></p>

<p>Make cool UIs in no time.</p>

<p>The best tutorial I have found so far is <a href="https://gist.github.com/1441520">here</a></p>

<p>And by trying the example, here is a style you can get after a few lines:</p>

<p><img src="seesaw.png" alt="" /></p>

<h3 id="clj-xpath">clj-xpath</h3>

<p><a href="https://github.com/kyleburton/clj-xpath">https://github.com/kyleburton/clj-xpath</a></p>

<p>Now you been looking on how to process those xml files as fast as possible, here is a super way to do it, clj-xpath.</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">import</span> <span class="n">clj</span>
<span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">clj</span><span class="o">-</span><span class="n">xpath</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>

<span class="p">;</span> <span class="n">slurp</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">document</span>
<span class="p">(</span><span class="k">def</span> <span class="nf">xdoc</span> <span class="p">(</span><span class="n">slurp</span> <span class="s2">"http://google-web-toolkit.googlecode.com/svn/trunk/samples/expenses/pom.xml"</span><span class="p">))</span>

<span class="p">;</span> <span class="n">show</span> <span class="n">the</span> <span class="n">top</span> <span class="n">element</span>
<span class="p">(</span><span class="vg">$x</span><span class="ss">:tag</span> <span class="s2">"/*"</span> <span class="n">xdoc</span><span class="p">)</span>

<span class="p">;</span> <span class="n">show</span> <span class="n">the</span> <span class="n">developer</span> <span class="nb">name</span>
<span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span><span class="o">*</span> <span class="s2">"/project/developers/developer/name"</span> <span class="n">xdoc</span><span class="p">)</span>

<span class="p">;</span> <span class="n">describe</span> <span class="n">all</span> <span class="n">the</span> <span class="n">dependencies</span>
<span class="p">(</span><span class="n">doseq</span> <span class="o">[</span><span class="n">node</span> <span class="p">(</span><span class="vg">$x</span> <span class="s2">"/project/dependencies/dependency"</span> <span class="n">xdoc</span><span class="p">)</span><span class="o">]</span>
  <span class="p">(</span><span class="n">prn</span> <span class="p">(</span><span class="nb">format</span> <span class="s2">"%s %s %s"</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./groupId"</span>    <span class="n">node</span><span class="p">)</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./artifactId"</span> <span class="n">node</span><span class="p">)</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./version"</span>    <span class="n">node</span><span class="p">))))</span>
</pre>
</div>


<h3 id="clojure-soup">clojure-soup</h3>

<p><a href="https://github.com/mfornos/clojure-soup">https://github.com/mfornos/clojure-soup</a></p>

<p>This is a wrapper to provide awesome parsing of html files, whether local or remote. Once you have added the library, check out the following example:</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">start</span> <span class="n">jsoup</span>
<span class="p">(</span><span class="n">use</span> <span class="s1">'jsoup.soup)</span>

<span class="s1">; Get all Emoji names concatenated by single bars from '</span><span class="n">emoji</span><span class="o">-</span><span class="n">cheat</span><span class="o">-</span><span class="n">sheet</span><span class="o">.</span><span class="n">com</span><span class="err">'</span><span class="p">:</span>

<span class="p">(</span><span class="err">$</span> <span class="p">(</span><span class="n">get!</span> <span class="s2">"http://www.emoji-cheat-sheet.com/"</span><span class="p">)</span> 
   <span class="s2">"li div:has(span.emoji)"</span> <span class="p">(</span><span class="n">text</span><span class="p">)</span> 
   <span class="p">(</span><span class="n">map</span> <span class="c1">#(clojure.string/replace % ":" "")) </span>
   <span class="p">(</span><span class="n">clojure</span><span class="o">.</span><span class="n">string</span><span class="o">/</span><span class="n">join</span> <span class="s2">"|"</span><span class="p">))</span> 
</pre>
</div>


<h3 id="enlive">Enlive</h3>

<p><a href="https://github.com/cgrand/enlive">https://github.com/cgrand/enlive</a></p>

<p>HTML parser, and Templating framework at the same time, Enlive does a super job of making HTML fun. (yes you read me.)</p>

<p>This is an example taken from a <a href="https://github.com/swannodette/enlive-tutorial/">slick tutorial</a> by David Nolen.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">html</span><span class="o">/</span><span class="n">deftemplate</span> <span class="n">index</span> <span class="s2">"tutorial/template1.html"</span>
  <span class="o">[</span><span class="n">ctxt</span><span class="o">]</span>
  <span class="o">[</span><span class="ss">:p</span><span class="c1">#message] (maybe-content (:message ctxt) "Nothing to see here!"))</span>
</pre>
</div>


<p>You declare templates in a regular html files, thus your designer can do his Dreamweaver work the way he/she usually does it.
Then as a developper you just come and stick content at the location that has been decided. Slick uh ?</p>

<h3 id="docjure">Docjure</h3>

<p><a href="https://github.com/ative/docjure">https://github.com/ative/docjure</a></p>

<p>The best way to have fun with spreadsheet in clojure. Relies on the <a href="http://poi.apache.org/">Apache POI</a> library but with some clojure sauce so it can actually be eaten.</p>

<p>This is how you write a simple spreadsheet.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">dk</span><span class="o">.</span><span class="n">ative</span><span class="o">.</span><span class="n">docjure</span><span class="o">.</span><span class="n">spreadsheet</span><span class="p">)</span>       

<span class="p">;;</span> <span class="no">Create</span> <span class="n">a</span> <span class="n">spreadsheet</span> <span class="ow">and</span> <span class="n">save</span> <span class="n">it</span>
<span class="p">(</span><span class="n">let</span> <span class="o">[</span><span class="n">wb</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">workbook</span> <span class="s2">"Price List"</span>
                          <span class="o">[[</span><span class="s2">"Name"</span> <span class="s2">"Price"</span><span class="o">]</span>
                           <span class="o">[</span><span class="s2">"Foo Widget"</span> <span class="mi">100</span><span class="o">]</span>
                           <span class="o">[</span><span class="s2">"Bar Widget"</span> <span class="mi">200</span><span class="o">]]</span><span class="p">)</span>
      <span class="n">sheet</span> <span class="p">(</span><span class="nb">select</span><span class="o">-</span><span class="n">sheet</span> <span class="s2">"Price List"</span> <span class="n">wb</span><span class="p">)</span>
      <span class="n">header</span><span class="o">-</span><span class="n">row</span> <span class="p">(</span><span class="n">first</span> <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="n">seq</span> <span class="n">sheet</span><span class="p">))</span><span class="o">]</span>
  <span class="p">(</span><span class="k">do</span>
    <span class="p">(</span><span class="n">set</span><span class="o">-</span><span class="n">row</span><span class="o">-</span><span class="n">style!</span> <span class="n">header</span><span class="o">-</span><span class="n">row</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">cell</span><span class="o">-</span><span class="n">style!</span> <span class="n">wb</span> <span class="p">{</span><span class="ss">:background</span> <span class="ss">:yellow</span><span class="p">,</span>
                                                       <span class="ss">:font</span> <span class="p">{</span><span class="ss">:bold</span> <span class="kp">true</span><span class="p">}}))</span>
    <span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">workbook!</span> <span class="s2">"spreadsheet.xlsx"</span> <span class="n">wb</span><span class="p">)))</span>
</pre>
</div>


<p>For more examples, I suggest you look at the <a href="http://poi.apache.org/spreadsheet/how-to.html#sxssf">"horrible" documentation</a> :)</p>

<h3 id="postal">Postal</h3>

<p><a href="https://github.com/drewr/postal">https://github.com/drewr/postal</a></p>

<p>I am pretty sure you knew how to send a mail before, but look at the awesome way of doing this in Clojure.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">postal</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>

<span class="p">(</span><span class="nb">send</span><span class="o">-</span><span class="n">message</span> <span class="o">^</span><span class="p">{</span> <span class="ss">:host</span> <span class="s2">"smtp.gmail.com"</span>
                    <span class="ss">:user</span> <span class="s2">"&lt;username&gt;"</span>
                    <span class="ss">:pass</span> <span class="s2">"&lt;password&gt;"</span>
                    <span class="ss">:ssl</span> <span class="ss">:yes!</span><span class="o">!!</span><span class="mi">11</span>
                <span class="p">}</span>
                <span class="p">{</span>    <span class="ss">:from</span> <span class="s2">"hellonico@gmail.com"</span>
                    <span class="ss">:to</span> <span class="s2">"hellonico@gmail.com"</span>
                    <span class="ss">:subject</span> <span class="s2">"Hi!"</span>
                    <span class="ss">:body</span> <span class="o">[</span> 
                        <span class="p">{</span><span class="ss">:content</span> <span class="s2">"&lt;html&gt;新橋&lt;/html&gt;"</span> <span class="ss">:type</span> <span class="s2">"text/html; charset=utf-8"</span><span class="p">}</span>
                        <span class="p">{</span><span class="ss">:type</span> <span class="ss">:attachment</span> <span class="ss">:content</span> <span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">File</span><span class="o">.</span> <span class="s2">"code/mail.txt"</span><span class="p">)}</span>
                        <span class="p">{</span>    <span class="ss">:type</span> <span class="ss">:inline</span> 
                            <span class="ss">:content</span> <span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">File</span><span class="o">.</span> <span class="s2">"code/mail.txt"</span><span class="p">)</span> 
                            <span class="ss">:content</span><span class="o">-</span><span class="n">type</span> <span class="s2">"application/text"</span><span class="p">}</span>
                    <span class="o">]</span><span class="p">})</span>
</pre>
</div>


<p>This is including attachment and Japanese encoding. yey</p>

<h3 id="korma">Korma</h3>

<p><a href="http://sqlkorma.com/docs">http://sqlkorma.com/docs</a></p>

<p>Korma makes actually enjoyable to write SQL queries.</p>

<h3 id="vaadin">Vaadin</h3>

<p><a href="http://dev.vaadin.com/wiki/Articles/ClojureScripting">http://dev.vaadin.com/wiki/Articles/ClojureScripting</a></p>

<p>This is not so much a library than a way to develop slick web application using Vaadin, but without the java boiler plate code.</p>

<h3 id="clj-opennlp">clj-opennlp</h3>

<p><a href="https://github.com/dakrone/clojure-opennlp">https://github.com/dakrone/clojure-opennlp</a>
Natural Language Processing in Clojure.</p>

<p><a href="https://github.com/eandrejko/clj-tokenizer">Tokenizer</a> for text analysis.</p>

<h3 id="clj-http">clj-http</h3>

<p><a href="https://github.com/dakrone/clj-http">https://github.com/dakrone/clj-http</a></p>

<h3 id="cascalog">Cascalog</h3>

<p><a href="https://github.com/nathanmarz/cascalog/wiki">https://github.com/nathanmarz/cascalog/wiki</a></p>

<h3 id="aleph">Aleph</h3>

<p><a href="https://github.com/ztellman/aleph">https://github.com/ztellman/aleph</a></p>

<h3 id="lamina">Lamina</h3>

<p><a href="https://github.com/ztellman/lamina">https://github.com/ztellman/lamina</a>
Event workflow for clojure</p>

<h3 id="conduit">Conduit</h3>

<p><a href="http://www.intensivesystems.net/tutorials/stream_proc.html">http://www.intensivesystems.net/tutorials/stream_proc.html</a>
Stream processing in Clojure</p>
    </div>
  </body>
</html>
