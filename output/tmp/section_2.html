<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="user.css"/>
  </head>

  <body>
    <div class="chapter">
      <h2 id="processing-opencv-and-imaging">Processing, OpenCV and imaging</h2>

<h3 id="quil">Quil</h3>

<p><a href="https://github.com/quil/quil">https://github.com/quil/quil</a></p>

<p>Quil is to <a href="http://processing.org/">Processing</a> what Clojure is to Java, some fresh air.</p>

<p>This is how your quil-ed processing sketch now looks like:</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">ns</span> <span class="n">quilme</span><span class="o">.</span><span class="n">core</span>
  <span class="p">(</span><span class="ss">:use</span> <span class="n">quil</span><span class="o">.</span><span class="n">core</span><span class="p">))</span>

<span class="p">(</span><span class="n">defn</span> <span class="n">setup</span> <span class="o">[]</span>
  <span class="p">;(</span><span class="n">smooth</span><span class="p">)</span>                          <span class="p">;;</span><span class="no">Turn</span> <span class="n">on</span> <span class="n">anti</span><span class="o">-</span><span class="n">aliasing</span>
  <span class="p">(</span><span class="n">frame</span><span class="o">-</span><span class="n">rate</span> <span class="mi">5</span><span class="p">)</span>                    <span class="p">;;</span><span class="no">Set</span> <span class="n">framerate</span> <span class="n">to</span> <span class="mi">1</span> <span class="no">FPS</span>
  <span class="p">(</span><span class="n">background</span> <span class="mi">0</span><span class="p">))</span>                 <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">background</span> <span class="n">colour</span> <span class="n">to</span>
                                    <span class="p">;;</span>  <span class="n">a</span> <span class="n">nice</span> <span class="n">shade</span> <span class="n">of</span> <span class="n">grey</span><span class="o">.</span>
<span class="p">(</span><span class="n">defn</span> <span class="n">draw</span> <span class="o">[]</span>
  <span class="p">(</span><span class="n">stroke</span> <span class="p">(</span><span class="n">random</span> <span class="mi">255</span><span class="p">))</span>             <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">stroke</span> <span class="n">colour</span> <span class="n">to</span> <span class="n">a</span> <span class="n">random</span> <span class="n">grey</span>
  <span class="p">(</span><span class="n">stroke</span><span class="o">-</span><span class="n">weight</span> <span class="p">(</span><span class="n">random</span> <span class="mi">10</span><span class="p">))</span>       <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">stroke</span> <span class="n">thickness</span> <span class="n">randomly</span>
  <span class="p">(</span><span class="n">fill</span> <span class="p">(</span><span class="n">random</span> <span class="mi">255</span><span class="p">))</span>               <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">fill</span> <span class="n">colour</span> <span class="n">to</span> <span class="n">a</span> <span class="n">random</span> <span class="n">grey</span>

  <span class="p">(</span><span class="n">let</span> <span class="o">[</span><span class="n">diam</span> <span class="p">(</span><span class="n">random</span> <span class="mi">100</span><span class="p">)</span>           <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">diameter</span> <span class="n">to</span> <span class="n">a</span> <span class="n">value</span> <span class="n">between</span> <span class="mi">0</span> <span class="ow">and</span> <span class="mi">100</span>
        <span class="n">x</span>    <span class="p">(</span><span class="n">random</span> <span class="p">(</span><span class="n">width</span><span class="p">))</span>       <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">x</span> <span class="n">coord</span> <span class="n">randomly</span> <span class="n">within</span> <span class="n">the</span> <span class="n">sketch</span>
        <span class="n">y</span>    <span class="p">(</span><span class="n">random</span> <span class="p">(</span><span class="n">height</span><span class="p">))</span><span class="o">]</span>     <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">y</span> <span class="n">coord</span> <span class="n">randomly</span> <span class="n">within</span> <span class="n">the</span> <span class="n">sketch</span>
    <span class="p">(</span><span class="n">ellipse</span> <span class="n">x</span> <span class="n">y</span> <span class="n">diam</span> <span class="n">diam</span><span class="p">)))</span>       <span class="p">;;</span><span class="no">Draw</span> <span class="n">a</span> <span class="n">circle</span> <span class="n">at</span> <span class="n">x</span> <span class="n">y</span> <span class="n">with</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">diameter</span>

<span class="p">(</span><span class="n">defsketch</span> <span class="n">example</span>                  <span class="p">;;</span><span class="no">Define</span> <span class="n">a</span> <span class="kp">new</span> <span class="n">sketch</span> <span class="n">named</span> <span class="n">example</span>
  <span class="ss">:title</span> <span class="s2">"Oh so many grey circles"</span>  <span class="p">;;</span><span class="no">Set</span> <span class="n">the</span> <span class="n">title</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sketch</span>
  <span class="ss">:setup</span> <span class="n">setup</span>                      <span class="p">;;</span><span class="no">Specify</span> <span class="n">the</span> <span class="n">setup</span> <span class="n">fn</span>
  <span class="ss">:draw</span> <span class="n">draw</span>                        <span class="p">;;</span><span class="no">Specify</span> <span class="n">the</span> <span class="n">draw</span> <span class="n">fn</span>
  <span class="ss">:render</span> <span class="ss">:opengl</span>
  <span class="ss">:decor</span> <span class="kp">false</span>
  <span class="ss">:size</span> <span class="o">[</span><span class="mi">800</span> <span class="mi">600</span><span class="o">]</span><span class="p">)</span>                  <span class="p">;;</span><span class="no">You</span> <span class="n">struggle</span> <span class="n">to</span> <span class="n">beat</span> <span class="n">the</span> <span class="n">golden</span> <span class="n">ratio</span>
</pre>
</div>


<p>Note the decor set to false, that hides most of the uglyness of the Window borders.</p>

<p>And all the <a href="https://github.com/quil/quil/tree/master/examples/gen_art">examples</a> you have ever dreamed from the Generative Art book have been implemented in Clojure/Quil.</p>
    </div>
  </body>
</html>
