<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title></title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="user.css"/>
  </head>

  <body>
    <div class="chapter">
      <h2 id="libraries">Libraries</h2>

<p>Now that we are ready for some hacking, here are sites, that refer interesting Clojure libraries:</p>

<ul><li><a href="http://clojure-libraries.appspot.com/">clojure-libraries on appspot.com/</a></li>
<li><a href="http://clojurewerkz.org/">clojurewerkz</a></li>
<li><a href="http://clojure.github.com/">Clojure on github</a></li>
<li><a href="http://programmers.stackexchange.com/questions/125107/what-are-the-essential-clojure-libraries-to-learn-beyond-the-basics-of-core">http://programmers.stackexchange.com/questions/125107/what-are-the-essential-clojure-libraries-to-learn-beyond-the-basics-of-core</a></li>
<li><a href="http://www.clojure-toolbox.com/">http://www.clojure-toolbox.com/</a></li>
<li><a href="http://twitch.nervestaple.com/2012/01/12/clojure-hbase/">http://twitch.nervestaple.com/2012/01/12/clojure-hbase/</a></li>
<li><a href="http://clojure.jr0cket.co.uk/">http://clojure.jr0cket.co.uk/</a></li>
</ul><h3 id="noir">Noir</h3>

<p><a href="https://github.com/ibdknox/noir">https://github.com/ibdknox/noir</a>
<a href="http://www.webnoir.org/">http://www.webnoir.org/</a></p>

<p>It's dark in here ! Noir is probably <em>the</em> simplest way to write a functional web application in clojure.</p>

<p>This is how it looks like in Clojure code</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">ns</span> <span class="n">my</span><span class="o">-</span><span class="n">app</span>
  <span class="p">(</span><span class="ss">:use</span> <span class="n">noir</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>
  <span class="p">(</span><span class="ss">:require</span> <span class="o">[</span><span class="n">noir</span><span class="o">.</span><span class="n">server</span> <span class="ss">:as</span> <span class="n">server</span><span class="o">]</span><span class="p">))</span>

<span class="p">(</span><span class="n">defpage</span> <span class="s2">"/welcome"</span> <span class="o">[]</span>
    <span class="s2">"Welcome to Noir!"</span><span class="p">)</span>

<span class="p">(</span><span class="n">server</span><span class="o">/</span><span class="n">start</span> <span class="mi">8080</span><span class="p">)</span>
</pre>
</div>


<p>and/or this is how you would have it started in a few seconds with the leiningen command we installed earlier on</p>

<div class="highlight">
<pre><span class="n">lein</span> <span class="n">plugin</span> <span class="n">install</span> <span class="n">lein</span><span class="o">-</span><span class="n">noir</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lein</span> <span class="n">noir</span> <span class="kp">new</span> <span class="n">my</span><span class="o">-</span><span class="n">website</span>
<span class="n">cd</span> <span class="n">my</span><span class="o">-</span><span class="n">website</span>
<span class="n">lein</span> <span class="n">run</span>
</pre>
</div>


<p>Now the guy from Noir has also started a very cute project named <a href="http://app.kodowa.com/playground">Playground</a> where you can do live execution of your code with a nice UI.</p>

<p><img src="LightTable.png" alt="" /></p>

<h3 id="http-kit">http-kit</h3>

<p><a href="https://github.com/shenfeng/http-kit">https://github.com/shenfeng/http-kit</a></p>

<p>In the same time, you can turn yourself asynchrnous with http-kit.</p>

<p><code>
[me.shenfeng/http-kit "1.2.0"]
</code></p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">me</span><span class="o">.</span><span class="n">shenfeng</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">server</span><span class="p">)</span>

<span class="p">(</span><span class="n">defasync</span> <span class="n">async</span> <span class="o">[</span><span class="n">req</span><span class="o">]</span>
  <span class="p">(</span><span class="o">.</span><span class="n">start</span> <span class="p">(</span><span class="no">Thread</span><span class="o">.</span> <span class="p">(</span><span class="n">fn</span> <span class="o">[]</span>
                     <span class="p">(</span><span class="no">Thread</span><span class="o">/</span><span class="nb">sleep</span> <span class="mi">1000</span><span class="p">)</span>
                     <span class="p">;;</span> <span class="k">return</span> <span class="n">a</span> <span class="n">ring</span> <span class="n">spec</span> <span class="n">response</span>
                     <span class="p">;;</span> <span class="n">call</span> <span class="p">(</span><span class="ss">:cb</span> <span class="n">req</span><span class="p">)</span> <span class="k">when</span> <span class="n">response</span> <span class="n">ready</span>
                     <span class="p">((</span><span class="ss">:cb</span> <span class="n">req</span><span class="p">)</span> <span class="p">{</span><span class="ss">:status</span> <span class="mi">200</span> <span class="ss">:body</span> <span class="s2">"hello async"</span><span class="p">})))))</span>

<span class="p">(</span><span class="n">run</span><span class="o">-</span><span class="n">server</span> <span class="n">async</span> <span class="p">{</span><span class="ss">:port</span> <span class="mi">8080</span><span class="p">})</span>
</pre>
</div>


<p>The server will be started, and will delay answer to the client. No dependency so kind of very lightweight and wicked.
It also incorporate a kinda cool http client, again with no dependencies. Give a try.</p>

<p><img src="async.png" alt="" /></p>

<h3 id="incanter">Incanter</h3>

<p><a href="http://incanter.org/downloads/">Download</a> and <a href="https://github.com/liebke/incanter/wiki#getstarted">Get started</a></p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="p">(</span><span class="n">incanter</span> <span class="n">core</span> <span class="n">stats</span> <span class="n">charts</span><span class="p">))</span>

<span class="p">;</span> <span class="no">Try</span> <span class="n">an</span> <span class="n">example</span><span class="p">:</span> <span class="n">sample</span> <span class="mi">1</span><span class="p">,</span><span class="mo">000</span> <span class="n">values</span> <span class="n">from</span> <span class="n">a</span> <span class="n">standard</span><span class="o">-</span><span class="n">normal</span> <span class="n">distribution</span> <span class="ow">and</span> <span class="n">view</span> <span class="n">a</span> <span class="n">histogram</span><span class="p">:</span> 
<span class="p">(</span><span class="n">view</span> <span class="p">(</span><span class="n">histogram</span> <span class="p">(</span><span class="n">sample</span><span class="o">-</span><span class="n">normal</span> <span class="mi">1000</span><span class="p">)))</span>

<span class="p">;</span> <span class="n">this</span> <span class="n">is</span> <span class="n">saving</span> <span class="n">the</span> <span class="n">file</span> <span class="n">as</span> <span class="n">png</span>
<span class="p">;</span> <span class="n">wow</span><span class="o">.</span> <span class="n">so</span> <span class="n">fast</span><span class="o">.</span>
<span class="p">(</span><span class="n">save</span> <span class="p">(</span><span class="n">histogram</span> <span class="p">(</span><span class="n">sample</span><span class="o">-</span><span class="n">normal</span> <span class="mi">1000</span><span class="p">))</span> <span class="s2">"test.png"</span><span class="p">)</span>

<span class="p">;</span> <span class="no">Below</span> <span class="n">only</span> <span class="n">works</span> <span class="k">if</span> <span class="n">you</span> <span class="n">have</span> <span class="n">latex</span> <span class="n">installed</span>
<span class="p">;</span> <span class="p">(</span><span class="k">def</span> <span class="nf">eq</span> <span class="p">(</span><span class="n">str</span> <span class="s2">"f(x)=</span><span class="se">\\</span><span class="s2">frac{1}{</span><span class="se">\\</span><span class="s2">sqrt{2</span><span class="se">\\</span><span class="s2">pi </span><span class="se">\\</span><span class="s2">sigma^2}}"</span> <span class="s2">"e^{</span><span class="se">\\</span><span class="s2">frac{-(x - </span><span class="se">\\</span><span class="s2">mu)^2}{2 </span><span class="se">\\</span><span class="s2">sigma^2}}"</span><span class="p">))</span>
<span class="p">;</span> <span class="p">(</span><span class="n">view</span> <span class="p">(</span><span class="n">latex</span> <span class="n">eq</span><span class="p">))</span>
<span class="p">;</span> <span class="p">(</span><span class="n">save</span> <span class="p">(</span><span class="n">latex</span> <span class="n">eq</span><span class="p">)</span> <span class="n">filename</span><span class="p">)</span>
</pre>
</div>


<p>The image below has been generated from the script above !</p>

<p><img src="histogram.png" alt="" /></p>

<p>Whats your next diagram ?</p>

<h3 id="marginalia">Marginalia</h3>

<p><a href="https://github.com/fogus/marginalia">https://github.com/fogus/marginalia</a></p>

<p>Marginalia is your best literate programming tool for clojure.</p>

<p>Install it as a dependency in your project.clj file:</p>

<p><code></code></p>

<pre><code>:dev-dependencies [lein-marginalia "0.7.1"]
</code></pre>

<p></p>

<p>Then, just use it:
<code></code></p>

<pre><code>lein marg
</code></pre>

<p></p>

<p>And dependending on the amount of comments you wrote in the code, you will get something similar to this:</p>

<p><img src="marginalia.png" alt="" /></p>

<h3 id="lacij">Lacij</h3>

<p><a href="https://github.com/pallix/lacij">https://github.com/pallix/lacij</a></p>

<p>A library that can quickly create SVG diagram with automatic layout, like this one:</p>

<p><img src="radial.png" alt="" /></p>

<p>Then, a graph can be drawn like this:</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">lacij</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">svg</span><span class="o">.</span><span class="n">graph</span><span class="p">)</span>

<span class="p">(</span><span class="o">-&gt;</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">graph</span> <span class="ss">:width</span> <span class="mi">800</span> <span class="ss">:height</span> <span class="mi">400</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">style</span> <span class="ss">:fill</span> <span class="s2">"lightgreen"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">edge</span><span class="o">-</span><span class="n">style</span> <span class="ss">:stroke</span> <span class="s2">"royalblue"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:hermes</span> <span class="s2">"Hermes"</span> <span class="ss">:x</span> <span class="mi">10</span> <span class="ss">:y</span> <span class="mi">30</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:fill</span> <span class="s2">"lightblue"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:zeus</span> <span class="s2">"Zeus"</span> <span class="ss">:x</span> <span class="mi">300</span> <span class="ss">:y</span> <span class="mi">150</span> <span class="ss">:rx</span> <span class="mi">15</span> <span class="ss">:ry</span> <span class="mi">15</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:ares</span> <span class="s2">"Ares"</span> <span class="ss">:x</span> <span class="mi">300</span> <span class="ss">:y</span> <span class="mi">250</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:fill</span> <span class="s2">"lavender"</span> <span class="ss">:stroke</span> <span class="s2">"red"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:father1</span> <span class="ss">:hermes</span> <span class="ss">:zeus</span> <span class="s2">"son of"</span>
                <span class="ss">:style</span> <span class="p">{</span><span class="ss">:stroke</span> <span class="s2">"darkcyan"</span> <span class="ss">:stroke</span><span class="o">-</span><span class="n">dasharray</span> <span class="s2">"9, 5"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:father2</span> <span class="ss">:ares</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">attrs</span> <span class="ss">:rx</span> <span class="mi">5</span> <span class="ss">:ry</span> <span class="mi">5</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:epaphus</span> <span class="s2">"Epaphus"</span> <span class="ss">:x</span> <span class="mi">450</span> <span class="ss">:y</span> <span class="mi">250</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:epaphus</span><span class="o">-</span><span class="n">zeus</span> <span class="ss">:epaphus</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">node</span> <span class="ss">:perseus</span> <span class="s2">"Perseus"</span> <span class="ss">:x</span> <span class="mi">600</span> <span class="ss">:y</span> <span class="mi">150</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">edge</span> <span class="ss">:perseus</span><span class="o">-</span><span class="n">zeus</span> <span class="ss">:perseus</span> <span class="ss">:zeus</span><span class="p">)</span>
    <span class="p">(</span><span class="n">add</span><span class="o">-</span><span class="n">label</span> <span class="ss">:father2</span> <span class="s2">"son of"</span> <span class="ss">:style</span> <span class="p">{</span><span class="ss">:stroke</span> <span class="s2">"crimson"</span>
                                         <span class="ss">:font</span><span class="o">-</span><span class="n">size</span> <span class="s2">"20px"</span>
                                         <span class="ss">:font</span><span class="o">-</span><span class="n">style</span> <span class="s2">"italic"</span><span class="p">})</span>
    <span class="p">(</span><span class="n">build</span><span class="p">)</span>
    <span class="p">(</span><span class="n">export</span> <span class="s2">"styles.svg"</span><span class="p">))</span>
</pre>
</div>


<p>The advantage is that you can add and remove nodes dynamically, thus giving a dynamic view about live typologies.</p>

<h3 id="seesaw">Seesaw</h3>

<p><a href="https://github.com/daveray/seesaw">https://github.com/daveray/seesaw</a></p>

<p>Make cool UIs in no time.</p>

<p>The best tutorial I have found so far is <a href="https://gist.github.com/1441520">here</a></p>

<p>And by trying the example, here is a style you can get after a few lines:</p>

<p><img src="seesaw.png" alt="" /></p>

<h3 id="clj-xpath">clj-xpath</h3>

<p><a href="https://github.com/kyleburton/clj-xpath">https://github.com/kyleburton/clj-xpath</a></p>

<p>Now you been looking on how to process those xml files as fast as possible, here is a super way to do it, clj-xpath.</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">import</span> <span class="n">clj</span>
<span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">clj</span><span class="o">-</span><span class="n">xpath</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>

<span class="p">;</span> <span class="n">slurp</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">document</span>
<span class="p">(</span><span class="k">def</span> <span class="nf">xdoc</span> <span class="p">(</span><span class="n">slurp</span> <span class="s2">"http://google-web-toolkit.googlecode.com/svn/trunk/samples/expenses/pom.xml"</span><span class="p">))</span>

<span class="p">;</span> <span class="n">show</span> <span class="n">the</span> <span class="n">top</span> <span class="n">element</span>
<span class="p">(</span><span class="vg">$x</span><span class="ss">:tag</span> <span class="s2">"/*"</span> <span class="n">xdoc</span><span class="p">)</span>

<span class="p">;</span> <span class="n">show</span> <span class="n">the</span> <span class="n">developer</span> <span class="nb">name</span>
<span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span><span class="o">*</span> <span class="s2">"/project/developers/developer/name"</span> <span class="n">xdoc</span><span class="p">)</span>

<span class="p">;</span> <span class="n">describe</span> <span class="n">all</span> <span class="n">the</span> <span class="n">dependencies</span>
<span class="p">(</span><span class="n">doseq</span> <span class="o">[</span><span class="n">node</span> <span class="p">(</span><span class="vg">$x</span> <span class="s2">"/project/dependencies/dependency"</span> <span class="n">xdoc</span><span class="p">)</span><span class="o">]</span>
  <span class="p">(</span><span class="n">prn</span> <span class="p">(</span><span class="nb">format</span> <span class="s2">"%s %s %s"</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./groupId"</span>    <span class="n">node</span><span class="p">)</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./artifactId"</span> <span class="n">node</span><span class="p">)</span>
               <span class="p">(</span><span class="vg">$x</span><span class="ss">:text</span> <span class="s2">"./version"</span>    <span class="n">node</span><span class="p">))))</span>
</pre>
</div>


<h3 id="clojure-soup">clojure-soup</h3>

<p><a href="https://github.com/mfornos/clojure-soup">https://github.com/mfornos/clojure-soup</a></p>

<p>This is a wrapper to provide awesome parsing of html files, whether local or remote. Once you have added the library, check out the following example:</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">start</span> <span class="n">jsoup</span>
<span class="p">(</span><span class="n">use</span> <span class="s1">'jsoup.soup)</span>

<span class="s1">; Get all Emoji names concatenated by single bars from '</span><span class="n">emoji</span><span class="o">-</span><span class="n">cheat</span><span class="o">-</span><span class="n">sheet</span><span class="o">.</span><span class="n">com</span><span class="err">'</span><span class="p">:</span>

<span class="p">(</span><span class="err">$</span> <span class="p">(</span><span class="n">get!</span> <span class="s2">"http://www.emoji-cheat-sheet.com/"</span><span class="p">)</span> 
   <span class="s2">"li div:has(span.emoji)"</span> <span class="p">(</span><span class="n">text</span><span class="p">)</span> 
   <span class="p">(</span><span class="n">map</span> <span class="c1">#(clojure.string/replace % ":" "")) </span>
   <span class="p">(</span><span class="n">clojure</span><span class="o">.</span><span class="n">string</span><span class="o">/</span><span class="n">join</span> <span class="s2">"|"</span><span class="p">))</span> 
</pre>
</div>


<h3 id="enlive">Enlive</h3>

<p><a href="https://github.com/cgrand/enlive">https://github.com/cgrand/enlive</a></p>

<p>HTML parser, and Templating framework at the same time, Enlive does a super job of making HTML fun. (yes you read me.)</p>

<p>This is an example taken from a <a href="https://github.com/swannodette/enlive-tutorial/">slick tutorial</a> by David Nolen.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">html</span><span class="o">/</span><span class="n">deftemplate</span> <span class="n">index</span> <span class="s2">"tutorial/template1.html"</span>
  <span class="o">[</span><span class="n">ctxt</span><span class="o">]</span>
  <span class="o">[</span><span class="ss">:p</span><span class="c1">#message] (maybe-content (:message ctxt) "Nothing to see here!"))</span>
</pre>
</div>


<p>You declare templates in a regular html files, thus your designer can do his Dreamweaver work the way he/she usually does it.
Then as a developper you just come and stick content at the location that has been decided. Slick uh ?</p>

<h3 id="docjure">Docjure</h3>

<p><a href="https://github.com/ative/docjure">https://github.com/ative/docjure</a></p>

<p>The best way to have fun with spreadsheet in clojure. Relies on the <a href="http://poi.apache.org/">Apache POI</a> library but with some clojure sauce so it can actually be eaten.</p>

<p>This is how you write a simple spreadsheet.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">dk</span><span class="o">.</span><span class="n">ative</span><span class="o">.</span><span class="n">docjure</span><span class="o">.</span><span class="n">spreadsheet</span><span class="p">)</span>       

<span class="p">;;</span> <span class="no">Create</span> <span class="n">a</span> <span class="n">spreadsheet</span> <span class="ow">and</span> <span class="n">save</span> <span class="n">it</span>
<span class="p">(</span><span class="n">let</span> <span class="o">[</span><span class="n">wb</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">workbook</span> <span class="s2">"Price List"</span>
                          <span class="o">[[</span><span class="s2">"Name"</span> <span class="s2">"Price"</span><span class="o">]</span>
                           <span class="o">[</span><span class="s2">"Foo Widget"</span> <span class="mi">100</span><span class="o">]</span>
                           <span class="o">[</span><span class="s2">"Bar Widget"</span> <span class="mi">200</span><span class="o">]]</span><span class="p">)</span>
      <span class="n">sheet</span> <span class="p">(</span><span class="nb">select</span><span class="o">-</span><span class="n">sheet</span> <span class="s2">"Price List"</span> <span class="n">wb</span><span class="p">)</span>
      <span class="n">header</span><span class="o">-</span><span class="n">row</span> <span class="p">(</span><span class="n">first</span> <span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="n">seq</span> <span class="n">sheet</span><span class="p">))</span><span class="o">]</span>
  <span class="p">(</span><span class="k">do</span>
    <span class="p">(</span><span class="n">set</span><span class="o">-</span><span class="n">row</span><span class="o">-</span><span class="n">style!</span> <span class="n">header</span><span class="o">-</span><span class="n">row</span> <span class="p">(</span><span class="n">create</span><span class="o">-</span><span class="n">cell</span><span class="o">-</span><span class="n">style!</span> <span class="n">wb</span> <span class="p">{</span><span class="ss">:background</span> <span class="ss">:yellow</span><span class="p">,</span>
                                                       <span class="ss">:font</span> <span class="p">{</span><span class="ss">:bold</span> <span class="kp">true</span><span class="p">}}))</span>
    <span class="p">(</span><span class="n">save</span><span class="o">-</span><span class="n">workbook!</span> <span class="s2">"spreadsheet.xlsx"</span> <span class="n">wb</span><span class="p">)))</span>
</pre>
</div>


<p>For more examples, I suggest you look at the <a href="http://poi.apache.org/spreadsheet/how-to.html#sxssf">"horrible" documentation</a> :)</p>

<h3 id="postal">Postal</h3>

<p><a href="https://github.com/drewr/postal">https://github.com/drewr/postal</a></p>

<p>I am pretty sure you knew how to send a mail before, but look at the awesome way of doing this in Clojure.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">postal</span><span class="o">.</span><span class="n">core</span><span class="p">)</span>

<span class="p">(</span><span class="nb">send</span><span class="o">-</span><span class="n">message</span> <span class="o">^</span><span class="p">{</span> <span class="ss">:host</span> <span class="s2">"smtp.gmail.com"</span>
                    <span class="ss">:user</span> <span class="s2">"&lt;username&gt;"</span>
                    <span class="ss">:pass</span> <span class="s2">"&lt;password&gt;"</span>
                    <span class="ss">:ssl</span> <span class="ss">:yes!</span><span class="o">!!</span><span class="mi">11</span>
                <span class="p">}</span>
                <span class="p">{</span>    <span class="ss">:from</span> <span class="s2">"hellonico@gmail.com"</span>
                    <span class="ss">:to</span> <span class="s2">"hellonico@gmail.com"</span>
                    <span class="ss">:subject</span> <span class="s2">"Hi!"</span>
                    <span class="ss">:body</span> <span class="o">[</span> 
                        <span class="p">{</span><span class="ss">:content</span> <span class="s2">"&lt;html&gt;新橋&lt;/html&gt;"</span> <span class="ss">:type</span> <span class="s2">"text/html; charset=utf-8"</span><span class="p">}</span>
                        <span class="p">{</span><span class="ss">:type</span> <span class="ss">:attachment</span> <span class="ss">:content</span> <span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">File</span><span class="o">.</span> <span class="s2">"code/mail.txt"</span><span class="p">)}</span>
                        <span class="p">{</span>    <span class="ss">:type</span> <span class="ss">:inline</span> 
                            <span class="ss">:content</span> <span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">File</span><span class="o">.</span> <span class="s2">"code/mail.txt"</span><span class="p">)</span> 
                            <span class="ss">:content</span><span class="o">-</span><span class="n">type</span> <span class="s2">"application/text"</span><span class="p">}</span>
                    <span class="o">]</span><span class="p">})</span>
</pre>
</div>


<p>This is including attachment and Japanese encoding. yey</p>

<h3 id="lobos">Lobos</h3>

<p><a href="http://budu.github.com/lobos/">http://budu.github.com/lobos/</a></p>

<p>Here is comes Lobos, or how to manage your database directly from a Clojure REPL.</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">create</span> <span class="no">SQL</span> <span class="n">tables</span> <span class="n">with</span> <span class="n">lobos</span>
<span class="p">(</span><span class="n">use</span> <span class="s1">'lobos.connectivity</span>
<span class="s1">     '</span><span class="n">lobos</span><span class="o">.</span><span class="n">core</span>
     <span class="err">'</span><span class="n">lobos</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
 
<span class="p">(</span><span class="k">def</span> <span class="nf">h2</span>
  <span class="p">{</span><span class="ss">:classname</span>   <span class="s2">"org.h2.Driver"</span>
   <span class="ss">:subprotocol</span> <span class="s2">"h2"</span>
   <span class="ss">:subname</span>     <span class="s2">"./korma"</span><span class="p">})</span>
 
 <span class="p">;</span> <span class="n">seems</span> <span class="n">lobos</span> <span class="n">is</span> <span class="ow">not</span> <span class="n">working</span> <span class="n">anymore</span> <span class="n">without</span> <span class="n">clojure</span><span class="o">-</span><span class="n">contrib</span>
<span class="p">(</span><span class="n">create</span> <span class="n">h2</span>
  <span class="p">(</span><span class="n">table</span> <span class="ss">:users</span>
    <span class="p">(</span><span class="n">varchar</span> <span class="ss">:first</span> <span class="mi">100</span><span class="p">)</span>
    <span class="p">(</span><span class="n">varchar</span> <span class="ss">:last</span> <span class="mi">100</span><span class="p">)))</span>
</pre>
</div>


<p>You define your database connection, and just go and create, drop delete, what every you need.
This is also very useful for testing.</p>

<h3 id="korma">Korma</h3>

<p><a href="http://sqlkorma.com/docs">http://sqlkorma.com/docs</a></p>

<p>Korma makes actually enjoyable to write SQL queries.</p>

<h3 id="clj-dns">clj-dns</h3>

<p><a href="https://github.com/brweber2/clj-dns">https://github.com/brweber2/clj-dns</a></p>

<blockquote><p>DNS Querying in Clojure.</p></blockquote>

<p><code>
[com.brweber2/clj-dns "0.0.2"]
</code></p>

<p>How easy it is to do lookup and reverse lookup. Need anything else ?</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="s1">'clj-dns.core)</span>
<span class="s1">(import '</span><span class="n">org</span><span class="o">.</span><span class="n">xbill</span><span class="o">.</span><span class="n">DNS</span><span class="o">.</span><span class="n">Type</span><span class="p">)</span>

<span class="p">;</span> <span class="n">regular</span> <span class="n">lookup</span>
<span class="p">(</span><span class="n">pprint</span> <span class="p">(</span><span class="ss">:answers</span> <span class="p">(</span><span class="n">dns</span><span class="o">-</span><span class="n">lookup</span> <span class="s2">"www.google.com"</span> <span class="no">Type</span><span class="o">/</span><span class="n">A</span><span class="p">)))</span>

<span class="p">;</span> <span class="n">reverse</span> <span class="n">lookup</span>
<span class="p">(</span><span class="n">reverse</span><span class="o">-</span><span class="n">dns</span><span class="o">-</span><span class="n">lookup</span> <span class="s2">"173.194.38.113"</span><span class="p">)</span>
</pre>
</div>


<h3 id="clostache">Clostache</h3>

<p><a href="https://github.com/fhd/clostache">https://github.com/fhd/clostache</a></p>

<p><code>
[de.ubercode.clostache/clostache "1.3.0"]
</code></p>

<p>Some very simple templating magic.</p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">clostache</span><span class="o">.</span><span class="n">parser</span><span class="p">)</span>

<span class="p">(</span><span class="n">render</span> <span class="s2">"Hello, {{name}}!"</span> <span class="p">{</span><span class="ss">:name</span> <span class="s2">"Felix"</span><span class="p">})</span>

<span class="p">(</span><span class="n">render</span> <span class="s2">"&lt;ul&gt;{{#names}}&lt;li&gt;{{.}}&lt;/li&gt;{{/names}}&lt;/ul&gt;"</span> <span class="p">{</span><span class="ss">:names</span> <span class="o">[</span><span class="s2">"Felix"</span> <span class="s2">"Jenny"</span><span class="o">]</span><span class="p">})</span>

<span class="p">(</span><span class="n">render</span><span class="o">-</span><span class="n">resource</span> <span class="s2">"code/sample.mustache"</span> <span class="p">{</span><span class="ss">:name</span> <span class="s2">"Michael"</span><span class="p">})</span>
</pre>
</div>


<h3 id="clojure-csv">clojure-csv</h3>

<p><a href="https://github.com/davidsantiago/clojure-csv">https://github.com/davidsantiago/clojure-csv</a></p>

<p><code>
[clojure-csv/clojure-csv "2.0.0-alpha1"]
</code></p>

<p>Now that we have mustache, I actually have added a longer example showing how to convert a csv files containing people addresses, to a vcard vcf file format.
Took a few minutes to write the code, not a single exception, and all using multiple cores to convert the map.</p>

<p>Sweeet.</p>

<div class="highlight">
<pre><span class="p">;</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">davidsantiago</span><span class="o">/</span><span class="n">clojure</span><span class="o">-</span><span class="n">csv</span><span class="o">/</span><span class="n">blob</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="nb">test</span><span class="o">/</span><span class="n">clojure_csv</span><span class="o">/</span><span class="nb">test</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">clj</span>

<span class="p">(</span><span class="n">import</span> <span class="s1">'[java.io StringReader])</span>
<span class="s1">(use '</span><span class="n">clojure</span><span class="o">.</span><span class="n">java</span><span class="o">.</span><span class="n">io</span><span class="p">)</span>
<span class="p">(</span><span class="n">use</span> <span class="s1">'clojure-csv.core)</span>

<span class="s1">; dumb example</span>
<span class="s1">(parse-csv "a,b,c")</span>


<span class="s1">;</span>
<span class="s1">; Longer example on how to convert a CSV list of people</span>
<span class="s1">; to vcard format</span>
<span class="s1">;</span>
<span class="s1">(defn l[o]</span>
<span class="s1">(let [</span>
<span class="s1">   tel_or_email (get o 3)</span>
<span class="s1">   is_email (re-find #"@" tel_or_email)</span>
<span class="s1">   ]</span>
<span class="s1">   {</span>
<span class="s1">       :id (first o)</span>
<span class="s1">       :first (get o 1)</span>
<span class="s1">       :last (get o 2)</span>
<span class="s1">       :email (if is_email tel_or_email)</span>
<span class="s1">       :tel (if (not is_email) tel_or_email)</span>
<span class="s1">   }</span>
<span class="s1">   ))</span>

<span class="s1">(use '</span><span class="n">clostache</span><span class="o">.</span><span class="n">parser</span><span class="p">)</span>

<span class="p">;</span> <span class="ow">not</span> <span class="n">all</span> <span class="n">field</span> <span class="n">are</span> <span class="n">there</span><span class="p">,</span> <span class="n">this</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">your</span> <span class="n">own</span> <span class="n">implementation</span>
<span class="p">(</span><span class="n">defn</span> <span class="n">vcard</span>
  <span class="s2">"Converts the intermal map representation into a format meeting the vCard specification"</span>
  <span class="o">[</span><span class="n">record</span><span class="o">]</span>
  <span class="p">(</span><span class="n">render</span> <span class="s2">"BEGIN:VCARD</span>
<span class="s2">VERSION:3.0</span>
<span class="s2">N:{{first}};{{last}};</span>
<span class="s2">{{#tel}}</span>
<span class="s2">TEL;TYPE=CELL;TYPE=PREF:{{tel}}</span>
<span class="s2">{{/tel}}</span>
<span class="s2">EMAIL;TYPE=PREF:{{email}}</span>
<span class="s2">END:VCARD</span>
<span class="s2">"</span> <span class="n">record</span><span class="p">))</span>

<span class="p">;</span> <span class="n">now</span> <span class="n">the</span> <span class="n">core</span> <span class="n">of</span> <span class="n">the</span> <span class="n">work</span>
<span class="p">;</span> <span class="mi">1</span> <span class="n">line</span> <span class="n">to</span> <span class="n">parse</span> <span class="n">the</span> <span class="n">csv</span> <span class="n">file</span>
<span class="p">(</span><span class="k">def</span> <span class="nf">ppl</span> <span class="p">(</span><span class="n">slurp</span> <span class="s2">"/Users/Niko/Dropbox/perso/contacts.csv"</span><span class="p">))</span>
<span class="p">;</span> <span class="mi">1</span> <span class="n">line</span> <span class="n">to</span> <span class="n">convert</span> <span class="n">each</span> <span class="n">line</span> <span class="n">to</span> <span class="n">a</span> <span class="n">vcard</span>
<span class="p">(</span><span class="k">def</span> <span class="nf">vcards</span> <span class="p">(</span><span class="n">map</span> <span class="c1">#(vcard (l %)) (parse-csv ppl)))</span>

<span class="p">(</span><span class="n">spit</span> <span class="s2">"contacts.vcf"</span> <span class="p">(</span><span class="n">apply</span> <span class="n">str</span> <span class="n">vcards</span><span class="p">))</span>
</pre>
</div>


<p>This is greatly inspired by a web based address book application available on <a href="https://github.com/KushalP/addressbook/blob/master/src/addressbook/format.clj">github</a>.</p>

<h3 id="clj-rss">clj-rss</h3>

<p><a href="https://github.com/yogthos/clj-rss">https://github.com/yogthos/clj-rss</a></p>

<p><code>
[clj-rss "0.1.2"]
</code></p>

<div class="highlight">
<pre><span class="o">[</span><span class="n">missing</span> <span class="s1">'code/35_rs.clj'</span> <span class="n">file</span><span class="o">]</span>
</pre>
</div>


<p>This is taken from <a href="http://yogthos.net/blog/17">here</a>.</p>

<h3 id="clj-growlnotify">clj-growlnotify</h3>

<p><a href="https://github.com/franks42/clj-growlnotify">https://github.com/franks42/clj-growlnotify</a></p>

<p><code>
[clj-growlnotify "0.1.1"]
</code></p>

<div class="highlight">
<pre>    <span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="n">clj</span><span class="o">-</span><span class="n">growlnotify</span><span class="p">)</span>
    
    <span class="p">(</span><span class="n">growl</span><span class="o">-</span><span class="n">notify</span> <span class="s2">"my title"</span> <span class="s2">"my message"</span><span class="p">)</span>
    <span class="p">(</span><span class="n">growl</span><span class="o">-</span><span class="n">notify</span> <span class="s2">"my title"</span> <span class="s2">"my message"</span> <span class="ss">:name</span> <span class="s2">"myapp"</span> <span class="ss">:sticky</span> <span class="kp">true</span><span class="p">)</span>
    <span class="p">(</span><span class="n">growl</span><span class="o">-</span><span class="n">notify</span> <span class="p">{</span><span class="ss">:title</span> <span class="s2">"my title"</span> <span class="ss">:message</span> <span class="s2">"my message"</span> <span class="ss">:name</span> <span class="s2">"myapp"</span> <span class="ss">:sticky</span> <span class="kp">true</span><span class="p">})</span>
</pre>
</div>


<p>When you run the script above, if you have the growl notification system (<a href="http://growl.info/">osx</a>, <a href="http://www.growlforwindows.com/gfw/">windows</a>) installed on your machine, you will get a nice message like the one below:</p>

<p><img src="Growl.png" alt="" /></p>

<h3 id="cheshire">cheshire</h3>

<p><a href="https://github.com/dakrone/cheshire">https://github.com/dakrone/cheshire</a></p>

<p>Or how to do proper json fun in the Clojure style. Cheshire is there for good.</p>

<p><code>
[cheshire "4.0.2"]
</code></p>

<div class="highlight">
<pre><span class="p">(</span><span class="n">use</span> <span class="err">'</span><span class="o">[</span><span class="n">cheshire</span><span class="o">.</span><span class="n">core</span><span class="o">]</span><span class="p">)</span>

<span class="p">(</span><span class="n">generate</span><span class="o">-</span><span class="n">string</span> <span class="p">{</span><span class="ss">:foo</span> <span class="s2">"bar"</span> <span class="ss">:baz</span> <span class="mi">5</span><span class="p">})</span>

<span class="p">;;</span> <span class="n">parse</span> <span class="n">some</span> <span class="n">json</span>
<span class="p">(</span><span class="n">parse</span><span class="o">-</span><span class="n">string</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">foo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">bar</span><span class="se">\"</span><span class="s2">}"</span><span class="p">)</span>
<span class="p">;;</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="s2">"foo"</span> <span class="s2">"bar"</span><span class="p">}</span>

<span class="p">;;</span> <span class="n">parse</span> <span class="n">some</span> <span class="n">json</span> <span class="ow">and</span> <span class="n">get</span> <span class="n">keywords</span> <span class="n">back</span>
<span class="p">(</span><span class="n">parse</span><span class="o">-</span><span class="n">string</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">foo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">bar</span><span class="se">\"</span><span class="s2">}"</span> <span class="kp">true</span><span class="p">)</span>
<span class="p">;;</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:foo</span> <span class="s2">"bar"</span><span class="p">}</span>

<span class="p">;;</span> <span class="n">parse</span> <span class="n">some</span> <span class="n">json</span> <span class="ow">and</span> <span class="n">munge</span> <span class="n">keywords</span> <span class="n">with</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">function</span>
<span class="p">(</span><span class="n">parse</span><span class="o">-</span><span class="n">string</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">foo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">bar</span><span class="se">\"</span><span class="s2">}"</span> <span class="p">(</span><span class="n">fn</span> <span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="p">(</span><span class="n">keyword</span> <span class="p">(</span><span class="o">.</span><span class="n">toUpperCase</span> <span class="n">k</span><span class="p">))))</span>
<span class="p">;;;</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:FOO</span> <span class="s2">"bar"</span><span class="p">}</span>
</pre>
</div>


<p>Note how you can get keywords back, or do some extra mapping on dates. No more JSON problems.♫</p>

<h3 id="vaadin">Vaadin</h3>

<p><a href="http://dev.vaadin.com/wiki/Articles/ClojureScripting">http://dev.vaadin.com/wiki/Articles/ClojureScripting</a></p>

<p>This is not so much a library than a way to develop slick web application using Vaadin, but without the java boiler plate code.</p>

<h3 id="clj-opennlp">clj-opennlp</h3>

<p><a href="https://github.com/dakrone/clojure-opennlp">https://github.com/dakrone/clojure-opennlp</a>
Natural Language Processing in Clojure.</p>

<p><a href="https://github.com/eandrejko/clj-tokenizer">Tokenizer</a> for text analysis.</p>

<h3 id="clj-http">clj-http</h3>

<p><a href="https://github.com/dakrone/clj-http">https://github.com/dakrone/clj-http</a>
Http Slurping</p>

<h3 id="cascalog">Cascalog</h3>

<p><a href="https://github.com/nathanmarz/cascalog/wiki">https://github.com/nathanmarz/cascalog/wiki</a>
Hadoop Query from Clojure</p>

<h3 id="aleph">Aleph</h3>

<p><a href="https://github.com/ztellman/aleph">https://github.com/ztellman/aleph</a>
Websockets</p>

<h3 id="lamina">Lamina</h3>

<p><a href="https://github.com/ztellman/lamina">https://github.com/ztellman/lamina</a>
Event workflow for clojure</p>

<h3 id="conduit">Conduit</h3>

<p><a href="http://www.intensivesystems.net/tutorials/stream_proc.html">http://www.intensivesystems.net/tutorials/stream_proc.html</a>
Stream processing in Clojure</p>
    </div>
  </body>
</html>
